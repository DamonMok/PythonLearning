<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>悬浮菜单</title>
	<script type="text/javascript" src="js/jquery-1.12.4.min.js"></script>
	<script type="text/javascript">

		$(function(){

			// 菜单对象
			var $menu = $('.menu');

			// 菜单占位对象，防止菜单消失脱离文档流时，下面的元素跳到上方
			var $menu_placeholder = $('.menu_placeholder');

			// 滚动的距离
			var iScrollTop = 0;

			// 向上按钮对象
			var $toTop = $('.toTop');

			$(window).scroll(function(){
				
				iScrollTop = $(document).scrollTop();
				// document.title = iScrollTop;

				if (iScrollTop > 150) {

					$menu_placeholder.show();  // 提前占位，解决脱离文档流导致元素上移bug
					$toTop.fadeIn();

					$menu.css({
						'position': 'fixed',
						'left': '50%',
						'top': 0,
						'marginLeft': -480,
					});
				}else {

					$menu_placeholder.hide();  // 取消占位
					$toTop.fadeOut();

					$menu.css({
						'position': 'static',
						'marginLeft': 'auto'
					});
				}

			})

			// 滚动到顶部
			$toTop.click(function(){

				// 无动画
				// $(document).scrollTop(0);

				// 有动画
				$('html, body').animate({
					'scrollTop': 0
				})
			})

		})
		
	</script>
	<style type="text/css">
		
		body{
			margin: 0;
		}

		.banner{
			width: 960px;
			height: 150px;
			margin: 0 auto;
			background-color: gold;
		}

		.menu{
			width: 960px;
			height: 50px;
			margin: 0 auto;
			background-color: red;
		}

		.menu_placeholder{
			width: 960px;
			height: 50px;
			margin: 0 auto;
			display: none;
		}

		.toTop{
			position: fixed;
			right: 60px;
			bottom: 60px;
			font-size: 30px;
			cursor: pointer;
			display: none;
		}

		.detail{
			text-align: center;
		}


	</style>
</head>
<body>
	<div class="banner"></div>
	<div class="menu"></div>
	<div class="menu_placeholder"></div>
	<div class="toTop">⏫</div>
	<div class="detail">
		<p>页面内容</p>
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<p>页面内容</p>
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<p>页面内容</p>
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<p>页面内容</p>
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<p>页面内容</p>
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<p>页面内容</p>
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	<br />
	</div>

</body>
</html>